{% extends 'base.html' %}
{% load static %}
{% block content %}
    <link rel="stylesheet" type="text/css" href="{% static 'css/categories.css' %}"/>

    <section id="category_section">
        <div class="container">
            <div class="row">
                <div class="col-sm-12 account-tabs">
                    <ul class="nav nav-pills flex-column flex-md-row">
                        {% for category in categories %}
                            <li class="nav-item">
                                <a class="nav-link" data-toggle="tab" role="tab"
                                   href="#{{ category.name }}">{{ category.name }}</a>
                            </li>
                        {% endfor %}
                    </ul>
                </div>

                <div class="tab-content" style="width: 100%">
                    {% for category in categories %}
                        {% if category.name == 'Software' %}
                            <div class="tab-pane tab-content-div active" id="{{ category.name }}" role="tabpanel">
                        {% else %}
                            <div class="tab-pane tab-content-div" id="{{ category.name }}" role="tabpanel">
                        {% endif %}
                    <div class="row">
                        {% for sub in category.subs %}
                            <div class="col-sm-2">
                                {{ sub }}
                            </div>
                        {% endfor %}
                    </div>
                    </div>
                    {% endfor %}
                    </div>
                </div>
            </div>
    </section>

    <script>

        // Javascript to enable link to tab
        var url = document.location.toString();
        if (url.match('#')) {
            $('.nav-pills a[href="#' + url.split('#')[1] + '"]').tab('show');
        }

        // With HTML5 history API, we can easily prevent scrolling!
        $('.nav-pills a').on('shown.bs.tab', function (e) {
            if (history.pushState) {
                history.pushState(null, null, e.target.hash);
            } else {
                window.location.hash = e.target.hash; //Polyfill for old browsers
            }
        })

        $(document).ready(function () {
            $(this).scrollTop(0);
        });

    </script>
{% endblock %}